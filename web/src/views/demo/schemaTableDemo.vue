<template>
  <schemaTable :table="table" v-model="pagination">
    <template #default="scope">
      <el-button type="primary" @click="handleEdit(scope.row)">ç¼–è¾‘</el-button>
      <el-button type="danger" @click="handleDelete(scope.row)">åˆ é™¤</el-button>
    </template>
  </schemaTable>
</template>
<script setup lang="ts">
import schemaTable from '@/components/schemaTable/schemaTable.vue'
import type SchemaTable from '@/components/schemaTable/types'
import { ref } from 'vue'

type TableData = {
  id: number
  name: string
  age: number
}

const table = ref<SchemaTable<TableData>>({
  props: {
    border: true,
    data: [
      { id: 1, name: 'John', age: 18 },
      { id: 2, name: 'saber', age: 18 }
    ]
  },
  columns: {
    name: {
      props: {
        align: 'center',
        label: 'Name',
        formatter: (value) => {
          return `${value.name}2233`
        }
      }
    },
    age: {
      props: {
        align: 'center',
        label: 'Age'
      }
    }
  },
  actionsProps: {
    label: 'æ“ä½œ',
    align: 'center'
  },
  pagination: {
    events: {
      change() {
        console.log('ðŸš€ ~ change ~ page:', pagination.value)
      }
    }
  }
})

const pagination = ref({
  pageSize: 10,
  currentPage: 1,
  total: 1000
})

const handleEdit = (row: TableData) => {
  console.log('ðŸš€ ~ handleEdit ~ row:', row)
}

const handleDelete = (row: TableData) => {
  console.log('ðŸš€ ~ handleDelete ~ row:', row)
}
</script>
<style lang="scss" scoped></style>
